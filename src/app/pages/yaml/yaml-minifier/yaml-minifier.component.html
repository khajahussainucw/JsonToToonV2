<div class="yaml-minifier-container">
  <!-- Page Header -->
  <div class="page-header">
    <h1 class="page-title">YAML Minifier</h1>
    <p class="page-description">Minify and compress YAML by removing whitespace</p>
  </div>
  
  <input type="file" #fileInput accept=".yaml,.yml,.txt" style="display: none;" (change)="onFileSelected($event)" />
  <div class="editors-wrapper">
    <!-- Left Panel (Input) -->
    <div class="editor-container input-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>YAML Input</h2>
        </div>
        <div class="panel-actions">
          <button class="btn" (click)="loadSampleYaml()" aria-label="Sample">            <span class="d-none d-md-inline">Sample</span>
          </button>
          <button class="btn" (click)="triggerFileUpload()" aria-label="Upload">            <span class="d-none d-md-inline">Upload</span>
          </button>
          <button class="btn" (click)="clearInput()">          </button>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #inputEditor class="editor"></div>
      </div>
    </div>

    <!-- Right Panel (Output) -->
    <div class="editor-container output-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>Minified Output</h2>
          <span class="stats-info" *ngIf="originalSize > 0">
            <span class="stat-text stat-saved">Saved: {{ formatBytes(savedBytes) }} ({{ savedPercentage.toFixed(1) }}%)</span>
          </span>
        </div>
        <div class="panel-actions">
          <button class="btn" (click)="downloadYaml()" aria-label="Download">            <span class="d-none d-md-inline">Download</span>
          </button>
          <button class="btn" (click)="copyToClipboard()" aria-label="Copy">            <span class="d-none d-md-inline">Copy</span>
          </button>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #outputEditor class="editor"></div>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap Error Modal -->
<div class="modal fade" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true" [class.show]="errorModalVisible" [style.display]="errorModalVisible ? 'block' : 'none'">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="errorModalLabel">Error</h5>
        <button type="button" class="btn-close" aria-label="Close" (click)="closeErrorModal()"></button>
      </div>
      <div class="modal-body">
        <p>{{ errorMessage }}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeErrorModal()">Close</button>
      </div>
    </div>
  </div>
</div>
<div class="modal-backdrop fade" [class.show]="errorModalVisible" *ngIf="errorModalVisible"></div>

<!-- Copy Success Toast -->
<div class="toast-container position-fixed end-0 p-3" style="top: 15%;">
  <div class="toast" [class.show]="copySuccessVisible" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">      <strong class="me-auto">Success</strong>
    </div>
    <div class="toast-body">
      {{ copySuccessMessage }}
    </div>
  </div>
  <div class="toast" [class.show]="copyErrorVisible" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">      <strong class="me-auto">Warning</strong>
    </div>
    <div class="toast-body">
      {{ copyErrorMessage }}
    </div>
  </div>
</div>

<!-- SEO Content Section -->
<div class="content-section">
  <div class="container-fluid px-4 py-5">
    
    <!-- Introduction Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">What is YAML Minifier?</h2>
      <p class="content-text">
        Need to shrink your YAML file size? YAML Minifier removes all unnecessary whitespace and line breaks from your <a href="https://yaml.org/" target="_blank" rel="noopener noreferrer">YAML (YAML Ain't Markup Language)</a> files. Perfect for production environments where smaller file sizes mean faster transfers and lower bandwidth usage.
      </p>
      <p class="content-text">
        According to <a href="https://yaml.org/spec/1.2.2/" target="_blank" rel="noopener noreferrer">YAML specification</a>, minified YAML is functionally identical to formatted YAML but takes up less space. Our minifier preserves all your data and structure while removing everything unnecessary. Great for config files, data files, or any YAML that needs to be compact.
      </p>
      <p class="content-text">
        Everything happens in your browser – your YAML never leaves your computer. Minify, download, and use your compact YAML right away.
      </p>
    </section>

    <!-- Key Features Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">What Makes This Tool Different</h2>
      <div class="row g-4">
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Whitespace Removal</h3>
            <p class="feature-description">Removes all unnecessary spaces, tabs, and line breaks. Your YAML becomes compact while staying perfectly valid.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Structure Preservation</h3>
            <p class="feature-description">All your YAML structure stays intact. Keys, values, nested objects, and arrays remain exactly the same – just without the formatting.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Size Reduction Stats</h3>
            <p class="feature-description">See exactly how much space you saved. We show you the original size, minified size, and percentage saved so you know the impact.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">File Upload Support</h3>
            <p class="feature-description">Got a big file? Just upload it. Works great for minifying those massive YAML configs or data files without copy-pasting.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Download Minified YAML</h3>
            <p class="feature-description">One click to download your minified YAML file. Perfect for production deployments where smaller files mean better performance.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Syntax Validation</h3>
            <p class="feature-description">We validate your YAML before minifying. Invalid YAML gets caught early, so you know the minified version will work correctly.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- How to Use Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">How It Works</h2>
      <div class="steps-container">
        <div class="step-item">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3 class="step-title">Paste or Upload YAML</h3>
            <p class="step-description">Paste your YAML code into the left editor, or click "Upload" to load a file. You can also click "Sample" to see an example. The tool accepts any valid YAML structure.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3 class="step-title">Automatic Minification</h3>
            <p class="step-description">As soon as you paste, the minifier processes your YAML and displays the compact version on the right. All whitespace is removed, making it much smaller while staying valid. You'll see the size reduction stats.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3 class="step-title">Download or Copy</h3>
            <p class="step-description">Click "Download" to save the minified YAML file, or "Copy" to copy it to your clipboard. The minified YAML is ready to use in production or wherever you need compact YAML.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Use Cases Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">When You'd Actually Use This</h2>
      <div class="row g-4">
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Production Deployment</h3>
            <p class="use-case-text">Minify YAML config files before deploying to production. Smaller files mean faster loading times and reduced bandwidth usage.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">API Optimization</h3>
            <p class="use-case-text">Minify YAML responses to reduce payload size. Faster API calls and lower bandwidth costs, especially important for mobile apps or high-traffic APIs.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Storage Efficiency</h3>
            <p class="use-case-text">Save storage space by minifying YAML files. Great for archiving large amounts of YAML data or when storage costs matter.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Network Transfer</h3>
            <p class="use-case-text">Reduce transfer times by sending minified YAML. Smaller files transfer faster, especially over slow connections or when dealing with large datasets.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">Common Questions</h2>
      <div class="faq-container">
        <div class="faq-item">
          <h3 class="faq-question">Is my YAML data stored?</h3>
          <p class="faq-answer">Nope. Everything happens right in your browser. Your YAML never leaves your computer – we don't even see it.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Does minification break my YAML?</h3>
          <p class="faq-answer">No. Minified YAML is functionally identical to formatted YAML. All keys, values, and structure stay exactly the same – we just remove whitespace.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">How much smaller does it get?</h3>
          <p class="faq-answer">It depends on how much whitespace your YAML has. Typically, you'll see 20-50% size reduction, sometimes more for heavily formatted YAML with lots of indentation.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Can I format it back?</h3>
          <p class="faq-answer">Yep. Use our <a routerLink="/yaml-formatter">YAML Formatter</a> to make minified YAML readable again. Minification is reversible – formatting just adds whitespace back.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">What about multi-line strings?</h3>
          <p class="faq-answer">Multi-line strings are preserved exactly as they are. We only remove whitespace between keys and values, not content inside strings.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Does it work with large files?</h3>
          <p class="faq-answer">Yep. Since everything happens in your browser, it depends on your device. Small files minify instantly. Very large files (10MB+) might take a few seconds, but they'll still work.</p>
        </div>
      </div>
    </section>

    <!-- Related Tools Section -->
    <section class="content-block">
      <h2 class="content-heading">Other YAML Tools You Might Need</h2>
      <p class="content-text mb-4">Minification is just one YAML task. Here are other tools that work well together:</p>
      <div class="related-tools-grid">
        <a routerLink="/yaml-formatter" class="tool-link"><span>YAML Formatter</span>
        </a>
        <a routerLink="/yaml-validator" class="tool-link"><span>YAML Validator</span>
        </a>
        <a routerLink="/json-to-yaml" class="tool-link"><span>JSON to YAML</span>
        </a>
        <a routerLink="/yaml-to-json" class="tool-link"><span>YAML to JSON</span>
        </a>
        <a routerLink="/yaml-to-xml" class="tool-link"><span>YAML to XML</span>
        </a>
        <a routerLink="/yaml-to-csv" class="tool-link"><span>YAML to CSV</span>
        </a>
        <a routerLink="/yaml-to-typescript" class="tool-link"><span>YAML to TypeScript</span>
        </a>
      </div>
      <p class="content-text mt-4">
        Need to learn more about YAML? Check out the official <a href="https://yaml.org/" target="_blank" rel="noopener noreferrer">YAML.org</a> website or the comprehensive <a href="https://yaml.org/spec/1.2.2/" target="_blank" rel="noopener noreferrer">YAML specification</a>.
      </p>
    </section>

  </div>
</div>

