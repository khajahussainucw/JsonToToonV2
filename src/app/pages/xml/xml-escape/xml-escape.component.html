<div class="xml-escape-container">
  <!-- Page Header -->
  <div class="page-header">
    <h1 class="page-title">XML Escape/Unescape</h1>
    <p class="page-description">Escape or unescape XML special characters instantly</p>
  </div>
  
  <input type="file" #fileInput accept=".xml,.txt" style="display: none;" (change)="onFileSelected($event)" />
  <div class="editors-wrapper">
    <!-- Left Panel (Input) -->
    <div class="editor-container input-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>{{ isEscaping ? 'XML Input' : 'Escaped Input' }}</h2>
        </div>
        <div class="panel-actions">
          <button class="btn" (click)="toggleMode()" aria-label="Toggle">
            <span class="d-none d-md-inline">{{ isEscaping ? 'Unescape' : 'Escape' }}</span>
          </button>
          <button class="btn" (click)="loadSampleXml()" aria-label="Sample" *ngIf="isEscaping">
            <span class="d-none d-md-inline">Sample</span>
          </button>
          <button class="btn" (click)="triggerFileUpload()" aria-label="Upload">
            <span class="d-none d-md-inline">Upload</span>
          </button>
          <button class="btn" (click)="clearInput()">          </button>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #inputEditor class="editor"></div>
      </div>
    </div>

    <!-- Right Panel (Output) -->
    <div class="editor-container output-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>{{ isEscaping ? 'Escaped Output' : 'XML Output' }}</h2>
        </div>
        <div class="panel-actions">
          <button class="btn" (click)="downloadOutput()" aria-label="Download">
            <span class="d-none d-md-inline">Download</span>
          </button>
          <button class="btn" (click)="copyToClipboard()" aria-label="Copy">
            <span class="d-none d-md-inline">Copy</span>
          </button>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #outputEditor class="editor"></div>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap Error Modal -->
<div class="modal fade" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true" [class.show]="errorModalVisible" [style.display]="errorModalVisible ? 'block' : 'none'">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="errorModalLabel">Error</h5>
        <button type="button" class="btn-close" aria-label="Close" (click)="closeErrorModal()"></button>
      </div>
      <div class="modal-body">
        <p>{{ errorMessage }}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeErrorModal()">Close</button>
      </div>
    </div>
  </div>
</div>
<div class="modal-backdrop fade" [class.show]="errorModalVisible" *ngIf="errorModalVisible"></div>

<!-- Copy Success Toast -->
<div class="toast-container position-fixed end-0 p-3" style="top: 15%;">
  <div class="toast" [class.show]="copySuccessVisible" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">      <strong class="me-auto">Success</strong>
    </div>
    <div class="toast-body">
      {{ copySuccessMessage }}
    </div>
  </div>
  <div class="toast" [class.show]="copyErrorVisible" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">      <strong class="me-auto">Warning</strong>
    </div>
    <div class="toast-body">
      {{ copyErrorMessage }}
    </div>
  </div>
</div>

<!-- SEO Content Section -->
<div class="content-section">
  <div class="container-fluid px-4 py-5">
    
    <!-- Introduction Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">What is XML Escape/Unescape?</h2>
      <p class="content-text">
        Need to escape special characters in your <a href="https://www.w3.org/XML/" target="_blank" rel="noopener noreferrer">XML (eXtensible Markup Language)</a> or unescape them back? This tool handles all XML special characters: &amp; (ampersand), &lt; (less than), &gt; (greater than), &quot; (quote), and &apos; (apostrophe). Escaping is essential when embedding XML in HTML, JavaScript, or other contexts where these characters have special meaning.
      </p>
      <p class="content-text">
        According to <a href="https://www.w3.org/TR/xml/" target="_blank" rel="noopener noreferrer">W3C XML specification</a>, certain characters must be escaped in XML content. Our tool handles all five XML entities correctly. Perfect for embedding XML in web pages, JavaScript strings, or any context where XML needs to be escaped.
      </p>
      <p class="content-text">
        Everything happens in your browser – your XML never leaves your computer. Escape or unescape, download, and use your files right away.
      </p>
    </section>

    <!-- Key Features Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">What Makes This Tool Different</h2>
      <div class="row g-4">
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Complete XML Entity Support</h3>
            <p class="feature-description">Handles all five XML entities: &amp;amp;, &amp;lt;, &amp;gt;, &amp;quot;, and &amp;apos;. Escapes and unescapes them correctly according to XML standards.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Bidirectional Conversion</h3>
            <p class="feature-description">Switch between escaping and unescaping with one click. Perfect for round-trip conversions or when you need to reverse the process.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Real-Time Processing</h3>
            <p class="feature-description">See escaped or unescaped output instantly as you type or paste. No waiting, no delays – immediate results.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">File Upload Support</h3>
            <p class="feature-description">Got a big file? Just upload it. Works great for escaping or unescaping those massive XML files without copy-pasting.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Download Results</h3>
            <p class="feature-description">One click to download your escaped or unescaped XML file. Drop it into your project and use it immediately.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Standards Compliant</h3>
            <p class="feature-description">Follows XML entity standards exactly. Escaped XML works correctly in all XML parsers and validators. Use our <a routerLink="/xml-validator">XML Validator</a> to verify.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- How to Use Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">How It Works</h2>
      <div class="steps-container">
        <div class="step-item">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3 class="step-title">Paste or Upload XML</h3>
            <p class="step-description">Paste your XML into the left editor, or click "Upload" to load a file. You can also click "Sample" to see an example. The tool works with any XML content.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3 class="step-title">Choose Mode</h3>
            <p class="step-description">Click "Escape" to convert special characters to XML entities, or "Unescape" to convert entities back to characters. The output appears instantly on the right.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3 class="step-title">Download or Copy</h3>
            <p class="step-description">Click "Download" to save the escaped or unescaped XML file, or "Copy" to copy it to your clipboard. The processed XML is ready to use in your project.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Use Cases Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">When You'd Actually Use This</h2>
      <div class="row g-4">
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Embedding XML in HTML</h3>
            <p class="use-case-text">Escape XML before embedding it in HTML pages. Prevents XML tags from being interpreted as HTML. Perfect for displaying XML examples in documentation or tutorials.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">JavaScript Strings</h3>
            <p class="use-case-text">Escape XML when including it in JavaScript strings. Prevents syntax errors and ensures XML is treated as string content. Perfect for web applications.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">API Responses</h3>
            <p class="use-case-text">Unescape XML entities from API responses. Convert escaped XML back to normal XML for processing. Perfect for handling XML data from web services.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Data Migration</h3>
            <p class="use-case-text">Escape or unescape XML during data migration. Ensure XML is properly formatted for different systems or contexts. Perfect for system integrations.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">Common Questions</h2>
      <div class="faq-container">
        <div class="faq-item">
          <h3 class="faq-question">Is my XML data stored?</h3>
          <p class="faq-answer">Nope. Everything happens right in your browser. Your XML never leaves your computer – we don't even see it.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">What characters get escaped?</h3>
          <p class="faq-answer">Five characters: &amp; becomes &amp;amp;, &lt; becomes &amp;lt;, &gt; becomes &amp;gt;, &quot; becomes &amp;quot;, and &apos; becomes &amp;apos;. These are the standard XML entities.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Can I escape and unescape multiple times?</h3>
          <p class="faq-answer">Yes, but be careful. Escaping already-escaped XML will double-escape it. Unescaping normal XML won't change it. Use the toggle to switch modes as needed.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Does it work with CDATA sections?</h3>
          <p class="faq-answer">CDATA sections don't need escaping – characters inside CDATA are treated as literal text. This tool works with regular XML content outside CDATA sections.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Does it work with large XML files?</h3>
          <p class="faq-answer">Yep. Since everything happens in your browser, it depends on your device. Small to medium XML files process instantly. Really huge files might take a few seconds.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">What about HTML entities?</h3>
          <p class="faq-answer">This tool handles XML entities specifically. HTML has similar but slightly different entities. Use an HTML escape tool for HTML-specific escaping needs.</p>
        </div>
      </div>
    </section>

    <!-- Related Tools Section -->
    <section class="content-block">
      <h2 class="content-heading">Other XML Tools You Might Need</h2>
      <p class="content-text mb-4">Escaping is just one XML task. Here are other tools that work well together:</p>
      <div class="related-tools-grid">
        <a routerLink="/xml-formatter" class="tool-link"><span>XML Formatter</span></a>
        <a routerLink="/xml-validator" class="tool-link"><span>XML Validator</span></a>
        <a routerLink="/xml-parser" class="tool-link"><span>XML Parser</span></a>
        <a routerLink="/xml-minifier" class="tool-link"><span>XML Minifier</span></a>
        <a routerLink="/xml-beautifier" class="tool-link"><span>XML Beautifier</span></a>
        <a routerLink="/xml-to-json" class="tool-link"><span>XML to JSON</span></a>
        <a routerLink="/xml-to-yaml" class="tool-link"><span>XML to YAML</span></a>
        <a routerLink="/xml-to-csv" class="tool-link"><span>XML to CSV</span></a>
      </div>
      <p class="content-text mt-4">
        Need to learn more about XML? Check out <a href="https://www.w3.org/XML/" target="_blank" rel="noopener noreferrer">W3C XML</a> or the comprehensive <a href="https://www.w3.org/TR/xml/" target="_blank" rel="noopener noreferrer">XML specification</a>.
      </p>
    </section>

  </div>
</div>

