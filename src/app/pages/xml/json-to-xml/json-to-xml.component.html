<div class="xml-tool-container">
  <div class="page-header">
    <h1 class="page-title">JSON to XML Converter</h1>
    <p class="page-description">Convert JSON to XML format online</p>
  </div>
  
  <input type="file" #fileInput accept=".json" style="display: none;" (change)="uploadFile($event)" />
  
  <div class="editors-wrapper">
    <div class="editor-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>Input JSON</h2>
        </div>
        <div class="panel-actions">
          <button class="btn" (click)="loadSampleJson()" title="Sample">
            <i class="fas fa-flask"></i>
            <span class="d-none d-md-inline">Sample</span>
          </button>
          <button class="btn" (click)="fileInput.click()" title="Upload">
            <i class="fas fa-upload"></i>
          </button>
          <button class="btn" (click)="showConfig = !showConfig" title="Settings">
            <i class="fas fa-cog"></i>
          </button>
          <button class="btn" (click)="clearInput()" title="Clear">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      </div>
      <div class="config-panel" *ngIf="showConfig">
        <div class="config-row">
          <label>Root Element:</label>
          <input type="text" [(ngModel)]="rootElement" (ngModelChange)="convertJsonToXml()" placeholder="root">
          <label class="checkbox-label">
            <input type="checkbox" [(ngModel)]="includeDeclaration" (ngModelChange)="convertJsonToXml()"> XML Declaration
          </label>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #inputEditor class="editor"></div>
      </div>
    </div>

    <div class="editor-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>Output XML</h2>
          <span class="badge" *ngIf="successMessage">{{ successMessage }}</span>
        </div>
        <div class="panel-actions">
          <button class="btn" (click)="downloadXml()" title="Download">
            <i class="fas fa-download"></i>
          </button>
          <button class="btn" (click)="copyXml()" title="Copy">
            <i class="fas fa-copy"></i>
          </button>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #outputEditor class="editor"></div>
      </div>
    </div>
  </div>
</div>

<div class="toast-container position-fixed end-0 p-3" style="top: 15%;">
  <div class="toast" [class.show]="!!errorMessage" role="alert">
    <div class="toast-header bg-danger text-white">
      <i class="fas fa-exclamation-triangle me-2"></i>
      <strong class="me-auto">Error</strong>
      <button type="button" class="btn-close btn-close-white" (click)="errorMessage = ''"></button>
    </div>
    <div class="toast-body">{{ errorMessage }}</div>
  </div>
</div>

