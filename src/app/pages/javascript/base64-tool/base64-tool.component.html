<div class="base64-tool-container">
  <div class="page-header">
    <h1 class="page-title">Base64 Encoder/Decoder</h1>
    <p class="page-description">Encode text to Base64 or decode Base64 to text</p>
  </div>

  <div class="content-wrapper">
    <!-- Mode Selector -->
    <div class="mode-selector">
      <button 
        class="mode-btn" 
        [class.active]="mode === 'encode'" 
        (click)="switchMode('encode')">
        <i class="fas fa-lock"></i> Encode
      </button>
      <button 
        class="mode-btn" 
        [class.active]="mode === 'decode'" 
        (click)="switchMode('decode')">
        <i class="fas fa-unlock"></i> Decode
      </button>
    </div>

    <input type="file" #fileInput accept=".txt" style="display: none;" (change)="uploadFile($event)" />

    <!-- Input Section -->
    <div class="section">
      <div class="section-header">
        <h2>{{ mode === 'encode' ? 'Text Input' : 'Base64 Input' }}</h2>
        <div class="header-actions">
          <button class="btn btn-sm" (click)="loadSample()">
            <i class="fas fa-flask"></i> Sample
          </button>
          <button class="btn btn-sm" (click)="fileInput.click()">
            <i class="fas fa-upload"></i> Upload
          </button>
          <button class="btn btn-sm" (click)="clearAll()">
            <i class="fas fa-trash"></i> Clear
          </button>
        </div>
      </div>
      <textarea 
        class="form-control input-area" 
        [(ngModel)]="textInput" 
        (input)="process()"
        [placeholder]="mode === 'encode' ? 'Enter text to encode...' : 'Enter Base64 string to decode...'"
        rows="8"></textarea>
      <div class="char-count">
        {{ textInput.length }} character{{ textInput.length === 1 ? '' : 's' }}
      </div>
    </div>

    <!-- Output Section -->
    <div class="section">
      <div class="section-header">
        <h2>{{ mode === 'encode' ? 'Base64 Output' : 'Decoded Text' }}</h2>
        <div class="header-actions">
          <button class="btn btn-sm" (click)="downloadOutput()" [disabled]="!base64Output">
            <i class="fas fa-download"></i> Download
          </button>
          <button class="btn btn-sm" (click)="copyToClipboard()" [disabled]="!base64Output">
            <i class="fas fa-copy"></i> Copy
          </button>
        </div>
      </div>
      <div class="output-area">
        <div class="output-content" *ngIf="base64Output">{{ base64Output }}</div>
        <div class="output-placeholder" *ngIf="!base64Output && !errorMessage">
          {{ mode === 'encode' ? 'Encoded Base64 will appear here...' : 'Decoded text will appear here...' }}
        </div>
      </div>
      <div class="char-count" *ngIf="base64Output">
        {{ base64Output.length }} character{{ base64Output.length === 1 ? '' : 's' }}
      </div>
    </div>

    <!-- Info Box -->
    <div class="info-box">
      <h3><i class="fas fa-info-circle"></i> About Base64</h3>
      <p>Base64 is a binary-to-text encoding scheme that represents binary data in ASCII string format. It's commonly used for encoding data in URLs, emails, and storing complex data in text format.</p>
      <ul>
        <li><strong>Encoding:</strong> Converts text/data into Base64 format</li>
        <li><strong>Decoding:</strong> Converts Base64 back to original text/data</li>
        <li><strong>Use Cases:</strong> Email attachments, data URLs, authentication tokens</li>
      </ul>
    </div>
  </div>
</div>

<!-- Toast Messages -->
<div class="toast-container position-fixed end-0 p-3" style="top: 15%;">
  <div class="toast" [class.show]="!!errorMessage" role="alert">
    <div class="toast-header bg-danger text-white">
      <i class="fas fa-exclamation-triangle me-2"></i>
      <strong class="me-auto">Error</strong>
      <button type="button" class="btn-close btn-close-white" (click)="errorMessage = ''"></button>
    </div>
    <div class="toast-body">{{ errorMessage }}</div>
  </div>
  <div class="toast" [class.show]="!!copySuccessMessage" role="alert">
    <div class="toast-header bg-success text-white">
      <i class="fas fa-check-circle me-2"></i>
      <strong class="me-auto">Success</strong>
    </div>
    <div class="toast-body">{{ copySuccessMessage }}</div>
  </div>
</div>

