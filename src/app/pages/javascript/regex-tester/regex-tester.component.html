<div class="regex-tester-container">
  <div class="page-header">
    <h1 class="page-title">RegEx Tester</h1>
    <p class="page-description">Test and debug regular expressions with real-time matching</p>
  </div>

  <div class="content-wrapper">
    <!-- Regex Input Section -->
    <div class="section">
      <div class="section-header">
        <h2>Regular Expression</h2>
        <button class="btn btn-sm" (click)="loadSample()">
          <i class="fas fa-flask"></i> Sample
        </button>
      </div>
      <div class="regex-input-group">
        <span class="regex-delimiter">/</span>
        <input 
          type="text" 
          class="form-control regex-pattern" 
          [(ngModel)]="regexPattern" 
          (input)="testRegex()"
          placeholder="Enter regex pattern">
        <span class="regex-delimiter">/</span>
        <input 
          type="text" 
          class="form-control regex-flags" 
          [(ngModel)]="regexFlags" 
          (input)="testRegex()"
          placeholder="flags"
          maxlength="5">
        <button class="btn" (click)="clearAll()">
          <i class="fas fa-trash"></i>
        </button>
      </div>
      <div class="validation-status">
        <span *ngIf="isValid && regexPattern" class="badge badge-success">
          <i class="fas fa-check-circle"></i> Valid RegEx
        </span>
        <span *ngIf="errorMessage" class="badge badge-danger">
          <i class="fas fa-times-circle"></i> {{ errorMessage }}
        </span>
        <span *ngIf="matches.length > 0" class="matches-count">
          {{ matches.length }} match{{ matches.length === 1 ? '' : 'es' }} found
        </span>
      </div>
    </div>

    <!-- Test String Section -->
    <div class="section">
      <div class="section-header">
        <h2>Test String</h2>
      </div>
      <textarea 
        class="form-control test-string" 
        [(ngModel)]="testString" 
        (input)="testRegex()"
        placeholder="Enter text to test against the regex pattern"
        rows="6"></textarea>
    </div>

    <!-- Results Section -->
    <div class="section">
      <div class="section-header">
        <h2>Highlighted Matches</h2>
      </div>
      <div class="highlighted-output" [innerHTML]="getHighlightedText()"></div>
    </div>

    <!-- Matches Detail -->
    <div class="section" *ngIf="matches.length > 0">
      <div class="section-header">
        <h2>Match Details</h2>
      </div>
      <div class="matches-list">
        <div class="match-item" *ngFor="let match of matches; let i = index">
          <div class="match-header">
            <strong>Match {{ i + 1 }}</strong>
            <span class="match-position">Position: {{ match.index }}</span>
          </div>
          <div class="match-text">{{ match.text }}</div>
          <div class="match-groups" *ngIf="match.groups.length > 0">
            <small>Groups: {{ match.groups.join(', ') || 'None' }}</small>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

