<div class="json-formatter-container">
  <!-- Page Header -->
  <div class="page-header">
    <h1 class="page-title">JSON Formatter</h1>
    <p class="page-description">Format, beautify and validate your JSON data</p>
  </div>
  
  <input type="file" #fileInput accept=".json,.txt" style="display: none;" (change)="onFileSelected($event)" />
  <div class="editors-wrapper">
    <!-- Left Panel (Input) -->
    <div class="editor-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>Input</h2>
        </div>
        <div class="panel-actions">
          <button class="btn" (click)="loadSampleJson()" aria-label="Sample">
            <i class="fas fa-file-code"></i> <span class="d-none d-md-inline">Sample</span>
          </button>
          <button class="btn" (click)="triggerFileUpload()" aria-label="Upload">
            <i class="fas fa-upload"></i> <span class="d-none d-md-inline">Upload</span>
          </button>
          <button class="btn" (click)="clearInput()" aria-label="Clear">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #inputEditor class="editor"></div>
      </div>
    </div>

    <!-- Right Panel (Output) -->
    <div class="editor-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>Output</h2>
        </div>
        <div class="panel-actions">
          <!--<button class="btn">            Excel
          </button>-->
          <!--<button class="btn">            CSV
          </button>-->
          <button class="btn" (click)="downloadJson()" aria-label="Download">
            <i class="fas fa-download"></i> <span class="d-none d-md-inline">Download</span>
          </button>
          <button class="btn" (click)="minifyJson()" aria-label="Minify">
            <span class="d-none d-md-inline">Minify</span>
          </button>
          <button class="btn" (click)="copyToClipboard()" aria-label="Copy">
            <i class="fas fa-copy"></i> <span class="d-none d-md-inline">Copy</span>
          </button>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #outputEditor class="editor"></div>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap Error Modal -->
<div class="modal fade" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true" [class.show]="errorModalVisible" [style.display]="errorModalVisible ? 'block' : 'none'">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="errorModalLabel">Error</h5>
        <button type="button" class="btn-close" aria-label="Close" (click)="closeErrorModal()"></button>
      </div>
      <div class="modal-body">
        <p>{{ errorMessage }}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeErrorModal()">Close</button>
      </div>
    </div>
  </div>
</div>
<div class="modal-backdrop fade" [class.show]="errorModalVisible" *ngIf="errorModalVisible"></div>

<!-- Copy Success Toast -->
<div class="toast-container position-fixed end-0 p-3" style="top: 15%;">
  <div class="toast" [class.show]="copySuccessVisible" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">      <strong class="me-auto">Success</strong>
    </div>
    <div class="toast-body">
      {{ copySuccessMessage }}
    </div>
  </div>
  <div class="toast" [class.show]="copyErrorVisible" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">      <strong class="me-auto">Warning</strong>
    </div>
    <div class="toast-body">
      {{ copyErrorMessage }}
    </div>
  </div>
</div>

<!-- SEO Content Section -->
<div class="content-section">
  <div class="container-fluid px-4 py-5">
    
    <!-- Introduction Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">What is JSON Formatter?</h2>
      <p class="content-text">
        Got messy, minified JSON that's impossible to read? This tool fixes that. It takes your <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer">JSON (JavaScript Object Notation)</a> and makes it beautiful – proper indentation, line breaks, everything organized. Whether you're debugging API responses, checking config files, or just trying to understand what your JSON actually says, this makes it readable.
      </p>
      <p class="content-text">
        As <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON" target="_blank" rel="noopener noreferrer">MDN Web Docs</a> notes, JSON is the standard format for web APIs. Our formatter follows the <a href="https://datatracker.ietf.org/doc/html/rfc8259" target="_blank" rel="noopener noreferrer">RFC 8259 JSON specification</a>, so your formatted JSON is always valid and standards-compliant.
      </p>
      <p class="content-text">
        Best part? Everything happens instantly in your browser. No server uploads, no data storage – just paste, format, and copy. Your JSON stays private.
      </p>
    </section>

    <!-- Key Features Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">What Makes This Tool Different</h2>
      <div class="row g-4">
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Pretty Print Instantly</h3>
            <p class="feature-description">Paste minified JSON and get perfectly formatted output in milliseconds. We use consistent 2-space indentation so nested structures are easy to read.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Syntax Validation</h3>
            <p class="feature-description">While we format, we also validate your JSON. If something's broken, we'll show you exactly where so you can fix it fast.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Minify Option</h3>
            <p class="feature-description">Need compact JSON for production? One click minifies everything, removing all whitespace while keeping it valid. Perfect for API requests or config files.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">File Upload Support</h3>
            <p class="feature-description">Got a big file? Just upload it. Works with .json and .txt files. No need to copy-paste – just drag and drop or click upload.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Copy & Download</h3>
            <p class="feature-description">One click to copy, or download it as a .json file. Perfect for saving formatted versions or sharing with your team.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Syntax Highlighting</h3>
            <p class="feature-description">Our editor provides beautiful syntax highlighting. Strings, numbers, booleans, and keys are color-coded for easy reading.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- How to Use Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">How It Works</h2>
      <div class="steps-container">
        <div class="step-item">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3 class="step-title">Paste or Upload JSON</h3>
            <p class="step-description">Paste your JSON into the left editor, or click "Upload" to load a file. You can also click "Sample" to see example JSON. The tool accepts any valid JSON structure – objects, arrays, nested data, you name it.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3 class="step-title">Automatic Formatting</h3>
            <p class="step-description">As soon as you paste, the formatter processes your JSON and displays the beautifully formatted version on the right. Nested objects get proper indentation, arrays are clearly separated, and everything is aligned perfectly.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3 class="step-title">Copy or Download</h3>
            <p class="step-description">Click "Copy" to copy the formatted JSON to your clipboard, or "Download" to save it as a file. Need minified JSON instead? Click "Minify" to compress it. All processing happens instantly in your browser.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Use Cases Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">When You'd Actually Use This</h2>
      <div class="row g-4">
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">API Development</h3>
            <p class="use-case-text">API responses often come minified. Format them to understand the structure, debug issues, or document endpoints. Works great with <a href="https://swagger.io/" target="_blank" rel="noopener noreferrer">Swagger/OpenAPI</a> responses or <a href="https://graphql.org/" target="_blank" rel="noopener noreferrer">GraphQL</a> queries.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Config File Review</h3>
            <p class="use-case-text">Reviewing JSON configuration files? Format them first to see the structure clearly. Makes it easier to spot errors, understand settings, or compare different configurations.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Learning JSON</h3>
            <p class="use-case-text">New to JSON? Formatting helps you understand the syntax. See how objects nest, how arrays work, and how data structures are organized. Much easier than reading minified code.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Debugging</h3>
            <p class="use-case-text">Trying to find a bug in your JSON? Formatting reveals the structure, making it easier to spot missing commas, unclosed brackets, or incorrect nesting. The validation feature catches syntax errors instantly.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">Common Questions</h2>
      <div class="faq-container">
        <div class="faq-item">
          <h3 class="faq-question">Is my JSON data stored?</h3>
          <p class="faq-answer">No. All formatting happens in your browser using JavaScript's native <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" target="_blank" rel="noopener noreferrer">JSON.parse()</a> and <code>JSON.stringify()</code>. Your data never leaves your computer.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">What JSON formats are supported?</h3>
          <p class="faq-answer">We support all valid JSON according to the <a href="https://www.ecma-international.org/publications-and-standards/standards/ecma-404/" target="_blank" rel="noopener noreferrer">ECMA-404 standard</a>. Objects, arrays, nested structures, strings, numbers, booleans, null – everything standard JSON supports.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Can I format invalid JSON?</h3>
          <p class="faq-answer">No. The formatter validates your JSON first. If it's invalid, you'll see an error message pointing to the problem. Fix the syntax error, then format again.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">What indentation does it use?</h3>
          <p class="faq-answer">We use 2 spaces for indentation, which is the most common standard. This makes nested structures easy to read without taking up too much space.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">How big can my JSON file be?</h3>
          <p class="faq-answer">Since processing happens in your browser, performance depends on your device. Small files format instantly. Very large files (10MB+) might take a few seconds, but they'll still work.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Can I customize the formatting?</h3>
          <p class="faq-answer">Currently, we use standard 2-space indentation. If you need different formatting options, consider using command-line tools like <a href="https://jq.play/" target="_blank" rel="noopener noreferrer">jq</a> for advanced customization.</p>
        </div>
      </div>
    </section>

    <!-- Related Tools Section -->
    <section class="content-block">
      <h2 class="content-heading">Other JSON Tools You Might Need</h2>
      <p class="content-text mb-4">Formatting is just one JSON task. Here are other tools that work well together:</p>
      <div class="related-tools-grid">
        <a routerLink="/" class="tool-link"><span>JSON Parser</span>
        </a>
        <a routerLink="/json-validator" class="tool-link"><span>JSON Validator</span>
        </a>
        <a routerLink="/json-minifier" class="tool-link"><span>JSON Minifier</span>
        </a>
        <a routerLink="/json-to-csv" class="tool-link"><span>JSON to CSV</span>
        </a>
        <a routerLink="/json-to-yaml" class="tool-link"><span>JSON to YAML</span>
        </a>
        <a routerLink="/json-to-xml" class="tool-link"><span>JSON to XML</span>
        </a>
        <a routerLink="/json-to-toon" class="tool-link"><span>JSON to TOON</span>
        </a>
        <a routerLink="/json-schema-generator" class="tool-link"><span>JSON Schema Generator</span>
        </a>
      </div>
      <p class="content-text mt-4">
        Need to learn more about JSON? Check out the official <a href="https://www.json.org/" target="_blank" rel="noopener noreferrer">JSON.org</a> website or the comprehensive guide on <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON" target="_blank" rel="noopener noreferrer">MDN</a>.
      </p>
    </section>

  </div>
</div>

