<div class="json-validator-container">
  <!-- Page Header -->
  <div class="page-header">
    <div class="header-content">
      <div class="header-text">
        <h1 class="page-title">JSON Validator</h1>
        <p class="page-description">Validate JSON syntax and check for errors</p>
      </div>
      <div class="header-ad">
        <app-rotating-ad></app-rotating-ad>
      </div>
    </div>
  </div>
  
  <input type="file" #fileInput accept=".json,.txt" style="display: none;" (change)="onFileSelected($event)" />
  <div class="editors-wrapper">
    <!-- Left Panel (Input - JSON) -->
    <div class="editor-container input-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>JSON Input</h2>
        </div>
        <div class="panel-actions">
          <button class="btn" (click)="loadSampleJson()" aria-label="Valid Sample">
            <i class="fas fa-file-code"></i> <span class="d-none d-md-inline">Valid Sample</span>
          </button>
          <button class="btn btn-warning-custom" (click)="loadInvalidSample()" aria-label="Invalid Sample">
            <span class="d-none d-md-inline">Invalid Sample</span>
          </button>
          <button class="btn" (click)="triggerFileUpload()" aria-label="Upload">
            <i class="fas fa-upload"></i> <span class="d-none d-md-inline">Upload</span>
          </button>
          <button class="btn" (click)="clearInput()" aria-label="Clear">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #inputEditor class="editor"></div>
      </div>
    </div>

    <!-- Right Panel (Validation Output) -->
    <div class="editor-container output-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>Validation Result</h2>
          <span class="validation-badge" *ngIf="showValidationResult" [ngClass]="{'badge-success': validationResult.valid, 'badge-error': !validationResult.valid}">
            <i *ngIf="validationResult.valid" class="fas fa-check-circle"></i>
            <i *ngIf="!validationResult.valid" class="fas fa-times-circle"></i>
            {{ validationResult.valid ? 'Valid' : 'Invalid' }}
          </span>
        </div>
        <div class="panel-actions">
          <button class="btn" (click)="copyToClipboard()" aria-label="Copy">
            <i class="fas fa-copy"></i> <span class="d-none d-md-inline">Copy</span>
          </button>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #outputEditor class="editor"></div>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap Error Modal -->
<div class="modal fade" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true" [class.show]="errorModalVisible" [style.display]="errorModalVisible ? 'block' : 'none'">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="errorModalLabel">Error</h5>
        <button type="button" class="btn-close" aria-label="Close" (click)="closeErrorModal()"></button>
      </div>
      <div class="modal-body">
        <p>{{ errorMessage }}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeErrorModal()">Close</button>
      </div>
    </div>
  </div>
</div>
<div class="modal-backdrop fade" [class.show]="errorModalVisible" *ngIf="errorModalVisible"></div>

<!-- Copy Success Toast -->
<div class="toast-container position-fixed end-0 p-3" style="top: 15%;">
  <div class="toast" [class.show]="copySuccessVisible" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">      <strong class="me-auto">Success</strong>
    </div>
    <div class="toast-body">
      {{ copySuccessMessage }}
    </div>
  </div>
  <div class="toast" [class.show]="copyErrorVisible" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">      <strong class="me-auto">Warning</strong>
    </div>
    <div class="toast-body">
      {{ copyErrorMessage }}
    </div>
  </div>
</div>

<!-- SEO Content Section -->
<div class="content-section">
  <div class="container-fluid px-4 py-5">
    
    <!-- Introduction Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">What is JSON Validator?</h2>
      <p class="content-text">
        A simple tool to check if your <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer">JSON</a> is valid or broken. Paste your JSON, upload a file, or try the sample data – you'll see right away if there are any syntax errors.
      </p>
      <p class="content-text">
        Uses JavaScript's built-in JSON parser, so it follows the same rules as your code. If it validates here, it'll work in your app. Everything runs locally in your browser – nothing gets sent to any server.
      </p>
    </section>

    <!-- Key Features Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">Features</h2>
      <div class="row g-4">
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Real-time Validation</h3>
            <p class="feature-description">Checks your JSON as you type. Green badge means it's valid, red means there's an error.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Error Details</h3>
            <p class="feature-description">Shows the line number and what went wrong. Makes debugging way easier.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">File Upload</h3>
            <p class="feature-description">Upload JSON files directly instead of copy-pasting everything.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Sample Data</h3>
            <p class="feature-description">Try the sample buttons to see valid and invalid examples.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Syntax Highlighting</h3>
            <p class="feature-description">Color-coded JSON makes it easier to spot issues visually.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Local Processing</h3>
            <p class="feature-description">Everything runs in your browser. Your data stays on your machine.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- How to Use Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">How to Use</h2>
      <div class="steps-container">
        <div class="step-item">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3 class="step-title">Add Your JSON</h3>
            <p class="step-description">Paste JSON into the left editor, upload a file, or click one of the sample buttons to try it out.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3 class="step-title">Check Results</h3>
            <p class="step-description">The right panel shows validation results automatically. Green = valid, red = has errors. Error messages include line numbers.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3 class="step-title">Fix Issues</h3>
            <p class="step-description">Use the error details to fix problems. Usually it's missing commas, unclosed brackets, or trailing commas. The validator updates as you fix things.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Use Cases Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">Use Cases</h2>
      <div class="row g-4">
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">API Responses</h3>
            <p class="use-case-text">Quick check if an API response is valid JSON before your code tries to parse it.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Config Files</h3>
            <p class="use-case-text">Validate JSON config files before deployment. One typo can break everything.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Learning</h3>
            <p class="use-case-text">If you're new to JSON, use this to check your work and see what errors look like.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Debugging</h3>
            <p class="use-case-text">Getting parse errors? Validate the JSON first to find the exact problem.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">FAQ</h2>
      <div class="faq-container">
        <div class="faq-item">
          <h3 class="faq-question">Is my data stored?</h3>
          <p class="faq-answer">No. Everything runs in your browser using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" target="_blank" rel="noopener noreferrer">JSON.parse()</a>. Nothing gets sent anywhere.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">What makes JSON invalid?</h3>
          <p class="faq-answer">Missing commas, trailing commas, unclosed brackets, unquoted keys, or invalid characters. The validator will tell you exactly what's wrong.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Does it validate JSON Schema?</h3>
          <p class="faq-answer">No, this only checks syntax. For schema validation, try the <a routerLink="/json-schema-generator">JSON Schema Generator</a>.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Can I validate large files?</h3>
          <p class="faq-answer">Yes, but performance depends on your browser. Small files are instant. Very large files (10MB+) might take a moment.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Why is my JSON invalid?</h3>
          <p class="faq-answer">Check the error message – it shows the line and what's wrong. Usually it's missing commas, trailing commas, or unclosed brackets.</p>
        </div>
      </div>
    </section>

    <!-- Related Tools Section -->
    <section class="content-block">
      <h2 class="content-heading">Related Tools</h2>
      <p class="content-text mb-4">Other JSON tools you might find useful:</p>
      <div class="related-tools-grid">
        <a routerLink="/" class="tool-link"><span>JSON Parser</span>
        </a>
        <a routerLink="/json-formatter" class="tool-link"><span>JSON Formatter</span>
        </a>
        <a routerLink="/json-minifier" class="tool-link"><span>JSON Minifier</span>
        </a>
        <a routerLink="/json-fixer" class="tool-link"><span>JSON Fixer</span>
        </a>
        <a routerLink="/json-to-csv" class="tool-link"><span>JSON to CSV</span>
        </a>
        <a routerLink="/json-to-yaml" class="tool-link"><span>JSON to YAML</span>
        </a>
        <a routerLink="/json-to-xml" class="tool-link"><span>JSON to XML</span>
        </a>
        <a routerLink="/json-schema-generator" class="tool-link"><span>JSON Schema Generator</span>
        </a>
      </div>
    </section>

  </div>
</div>

