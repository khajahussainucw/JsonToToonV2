<div class="json-to-csv-container">
  <!-- Page Header -->
  <div class="page-header">
    <h1 class="page-title">JSON to CSV Converter</h1>
    <p class="page-description">Convert JSON arrays to CSV format for Excel and spreadsheets</p>
  </div>
  
  <input type="file" #fileInput accept=".json,.txt" style="display: none;" (change)="onFileSelected($event)" />
  <div class="editors-wrapper">
    <!-- Left Panel (Input - JSON) -->
    <div class="editor-container input-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>JSON Input</h2>
        </div>
        <div class="panel-actions">
          <button class="btn" (click)="loadSampleJson()" aria-label="Sample">            <span class="d-none d-md-inline">Sample</span>
          </button>
          <button class="btn" (click)="triggerFileUpload()" aria-label="Upload">            <span class="d-none d-md-inline">Upload</span>
          </button>
          <button class="btn" (click)="clearInput()">          </button>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #inputEditor class="editor"></div>
      </div>
    </div>

    <!-- Right Panel (Output - CSV) -->
    <div class="editor-container output-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>CSV Output</h2>
        </div>
        <div class="panel-actions">
          <button class="btn" (click)="downloadCsv()" aria-label="Download">            <span class="d-none d-md-inline">Download</span>
          </button>
          <button class="btn" (click)="copyToClipboard()" aria-label="Copy">            <span class="d-none d-md-inline">Copy</span>
          </button>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #outputEditor class="editor"></div>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap Error Modal -->
<div class="modal fade" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true" [class.show]="errorModalVisible" [style.display]="errorModalVisible ? 'block' : 'none'">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="errorModalLabel">Error</h5>
        <button type="button" class="btn-close" aria-label="Close" (click)="closeErrorModal()"></button>
      </div>
      <div class="modal-body">
        <p>{{ errorMessage }}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeErrorModal()">Close</button>
      </div>
    </div>
  </div>
</div>
<div class="modal-backdrop fade" [class.show]="errorModalVisible" *ngIf="errorModalVisible"></div>

<!-- Copy Success Toast -->
<div class="toast-container position-fixed end-0 p-3" style="top: 15%;">
  <div class="toast" [class.show]="copySuccessVisible" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">      <strong class="me-auto">Success</strong>
    </div>
    <div class="toast-body">
      {{ copySuccessMessage }}
    </div>
  </div>
  <div class="toast" [class.show]="copyErrorVisible" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">      <strong class="me-auto">Warning</strong>
    </div>
    <div class="toast-body">
      {{ copyErrorMessage }}
    </div>
  </div>
</div>

<!-- SEO Content Section -->
<div class="content-section">
  <div class="container-fluid px-4 py-5">
    
    <!-- Introduction Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">What is JSON to CSV Converter?</h2>
      <p class="content-text">
        Need to get your JSON into Excel or Google Sheets? This tool converts your <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer">JSON (JavaScript Object Notation)</a> data into CSV format. Great for importing into spreadsheets, doing analysis, or just working with your data in a way that makes more sense.
      </p>
      <p class="content-text">
        As <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON" target="_blank" rel="noopener noreferrer">MDN Web Docs</a> notes, CSV is one of the most widely supported formats out there. Our converter takes JSON arrays of objects, figures out all the keys as column headers, and turns each object into a CSV row. Works great with API data, database exports, or config files.
      </p>
      <p class="content-text">
        Everything happens in your browser – your data stays private. Convert, download, and use your CSV file right away.
      </p>
    </section>

    <!-- Key Features Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">What Makes This Tool Different</h2>
      <div class="row g-4">
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Automatic Column Detection</h3>
            <p class="feature-description">We look at your JSON objects and figure out all the keys automatically. Those become your CSV column headers. Works perfectly with arrays of objects.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Nested Data Handling</h3>
            <p class="feature-description">Got nested objects or arrays? We handle them smartly. We convert nested values to strings or flatten them so your CSV stays usable.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Excel Compatible</h3>
            <p class="feature-description">The CSV we generate works perfectly with <a href="https://www.microsoft.com/en-us/microsoft-365/excel" target="_blank" rel="noopener noreferrer">Microsoft Excel</a>, <a href="https://www.google.com/sheets/about/" target="_blank" rel="noopener noreferrer">Google Sheets</a>, and other spreadsheet apps. Open it directly without any formatting issues.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">File Upload Support</h3>
            <p class="feature-description">Got a big file? Just upload it. Works great for converting those massive JSON exports from databases or APIs without copy-pasting.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Download CSV</h3>
            <p class="feature-description">One click to download your CSV file. Drop it into any spreadsheet app or use it for data analysis – it's ready to go.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Syntax Highlighting</h3>
            <p class="feature-description">Nice syntax highlighting makes it easy to check your JSON before converting. Visual feedback helps you spot issues early.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- How to Use Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">How It Works</h2>
      <div class="steps-container">
        <div class="step-item">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3 class="step-title">Paste or Upload JSON</h3>
            <p class="step-description">Paste your JSON array into the left editor, or click "Upload" to load a file. The JSON should be an array of objects (like <code>[&#123;"name":"John","age":30&#125;]</code>). You can also click "Sample" to see an example.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3 class="step-title">Automatic Conversion</h3>
            <p class="step-description">As soon as you paste, the converter processes your JSON and displays the CSV output on the right. Each JSON object becomes a row, and each key becomes a column header.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3 class="step-title">Download or Copy</h3>
            <p class="step-description">Click "Download" to save the CSV file, or "Copy" to copy it to your clipboard. The CSV is ready to open in Excel, Google Sheets, or any spreadsheet application.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Use Cases Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">When You'd Actually Use This</h2>
      <div class="row g-4">
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Data Analysis</h3>
            <p class="use-case-text">Convert JSON API responses or database exports to CSV for analysis in Excel. Great for creating pivot tables, charts, or doing calculations on your data.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Excel Import</h3>
            <p class="use-case-text">Import JSON data into Excel or Google Sheets. Many business users prefer working with spreadsheets, and CSV is the universal format for data import.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Data Migration</h3>
            <p class="use-case-text">Migrate JSON data to systems that require CSV format. Many legacy systems, reporting tools, or data warehouses accept CSV imports.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Sharing with Non-Developers</h3>
            <p class="use-case-text">Share JSON data with team members who don't work with code. CSV files open in Excel, making data accessible to everyone without technical knowledge.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">Common Questions</h2>
      <div class="faq-container">
        <div class="faq-item">
          <h3 class="faq-question">Is my JSON data stored?</h3>
          <p class="faq-answer">Nope. Everything happens right in your browser. Your JSON never leaves your computer – we don't even see it.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">What JSON formats work?</h3>
          <p class="faq-answer">The converter works best with JSON arrays of objects, like <code>[&#123;"key":"value"&#125;,&#123;"key":"value"&#125;]</code>. Single objects are also supported. Nested objects are converted to strings.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">How are nested objects handled?</h3>
          <p class="faq-answer">Nested objects and arrays are converted to JSON strings in the CSV cells. This preserves the data structure while keeping CSV format valid. You can parse them later if needed.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Can I convert CSV back to JSON?</h3>
          <p class="faq-answer">Yep. Use our <a routerLink="/csv-to-json">CSV to JSON</a> converter to convert CSV files back to JSON format.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">What if my JSON has different keys?</h3>
          <p class="faq-answer">The converter collects all unique keys from all objects and creates columns for each. Objects missing certain keys will have empty cells in those columns.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Does it work with large datasets?</h3>
          <p class="faq-answer">Yep. Since everything happens in your browser, it depends on your device. Small datasets convert instantly. Really huge datasets (thousands of rows) might take a few seconds.</p>
        </div>
      </div>
    </section>

    <!-- Related Tools Section -->
    <section class="content-block">
      <h2 class="content-heading">Other JSON Tools You Might Need</h2>
      <p class="content-text mb-4">Conversion is just one JSON task. Here are other tools that work well together:</p>
      <div class="related-tools-grid">
        <a routerLink="/" class="tool-link"><span>JSON Parser</span>
        </a>
        <a routerLink="/json-formatter" class="tool-link"><span>JSON Formatter</span>
        </a>
        <a routerLink="/json-validator" class="tool-link"><span>JSON Validator</span>
        </a>
        <a routerLink="/csv-to-json" class="tool-link"><span>CSV to JSON</span>
        </a>
        <a routerLink="/json-to-yaml" class="tool-link"><span>JSON to YAML</span>
        </a>
        <a routerLink="/json-to-xml" class="tool-link"><span>JSON to XML</span>
        </a>
        <a routerLink="/json-to-toon" class="tool-link"><span>JSON to TOON</span>
        </a>
        <a routerLink="/json-schema-generator" class="tool-link"><span>JSON Schema Generator</span>
        </a>
      </div>
      <p class="content-text mt-4">
        Need to learn more about JSON? Check out the official <a href="https://www.json.org/" target="_blank" rel="noopener noreferrer">JSON.org</a> website or the comprehensive guide on <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON" target="_blank" rel="noopener noreferrer">MDN</a>.
      </p>
    </section>

  </div>
</div>

