<div class="json-minifier-container">
  <!-- Page Header -->
  <div class="page-header">
    <h1 class="page-title">JSON Minifier</h1>
    <p class="page-description">Minify and compress JSON by removing whitespace</p>
  </div>
  
  <!-- Stats Bar -->
  <div class="stats-bar" *ngIf="originalSize > 0">
    <div class="stat-item">
      <span class="stat-label">Original:</span>
      <span class="stat-value">{{ formatBytes(originalSize) }}</span>
    </div>
    <div class="stat-item">
      <span class="stat-label">Minified:</span>
      <span class="stat-value">{{ formatBytes(minifiedSize) }}</span>
    </div>
    <div class="stat-item stat-highlight">
      <span class="stat-label">Saved:</span>
      <span class="stat-value">{{ formatBytes(savedBytes) }} ({{ savedPercentage.toFixed(1) }}%)</span>
    </div>
  </div>
  
  <input type="file" #fileInput accept=".json,.txt" style="display: none;" (change)="onFileSelected($event)" />
  <div class="editors-wrapper">
    <!-- Left Panel (Input) -->
    <div class="editor-container input-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>JSON Input</h2>
        </div>
        <div class="panel-actions">
          <button class="btn" (click)="loadSampleJson()" aria-label="Sample">
            <i class="fas fa-file-code"></i> <span class="d-none d-md-inline">Sample</span>
          </button>
          <button class="btn" (click)="triggerFileUpload()" aria-label="Upload">
            <i class="fas fa-upload"></i> <span class="d-none d-md-inline">Upload</span>
          </button>
          <button class="btn" (click)="clearInput()" aria-label="Clear">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #inputEditor class="editor"></div>
      </div>
    </div>

    <!-- Right Panel (Output) -->
    <div class="editor-container output-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>Minified Output</h2>
        </div>
        <div class="panel-actions">
          <button class="btn" (click)="downloadJson()" aria-label="Download">
            <i class="fas fa-download"></i> <span class="d-none d-md-inline">Download</span>
          </button>
          <button class="btn" (click)="copyToClipboard()" aria-label="Copy">
            <i class="fas fa-copy"></i> <span class="d-none d-md-inline">Copy</span>
          </button>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #outputEditor class="editor"></div>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap Error Modal -->
<div class="modal fade" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true" [class.show]="errorModalVisible" [style.display]="errorModalVisible ? 'block' : 'none'">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="errorModalLabel">Error</h5>
        <button type="button" class="btn-close" aria-label="Close" (click)="closeErrorModal()"></button>
      </div>
      <div class="modal-body">
        <p>{{ errorMessage }}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeErrorModal()">Close</button>
      </div>
    </div>
  </div>
</div>
<div class="modal-backdrop fade" [class.show]="errorModalVisible" *ngIf="errorModalVisible"></div>

<!-- Copy Success Toast -->
<div class="toast-container position-fixed end-0 p-3" style="top: 15%;">
  <div class="toast" [class.show]="copySuccessVisible" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">      <strong class="me-auto">Success</strong>
    </div>
    <div class="toast-body">
      {{ copySuccessMessage }}
    </div>
  </div>
  <div class="toast" [class.show]="copyErrorVisible" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">      <strong class="me-auto">Warning</strong>
    </div>
    <div class="toast-body">
      {{ copyErrorMessage }}
    </div>
  </div>
</div>

<!-- SEO Content Section -->
<div class="content-section">
  <div class="container-fluid px-4 py-5">
    
    <!-- Introduction Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">What is JSON Minifier?</h2>
      <p class="content-text">
        Need to shrink your JSON file size? This tool removes all the extra whitespace, line breaks, and indentation from your <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer">JSON (JavaScript Object Notation)</a>. Your JSON stays completely valid, just way smaller.
      </p>
      <p class="content-text">
        As <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON" target="_blank" rel="noopener noreferrer">MDN Web Docs</a> explains, smaller files mean faster load times and less bandwidth. Our minifier follows the <a href="https://datatracker.ietf.org/doc/html/rfc8259" target="_blank" rel="noopener noreferrer">RFC 8259 JSON specification</a>, so your minified JSON is still valid and works everywhere.
      </p>
      <p class="content-text">
        Everything happens in your browser – your JSON never leaves your computer. See exactly how much space you save with our real-time size comparison.
      </p>
    </section>

    <!-- Key Features Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">What Makes This Tool Different</h2>
      <div class="row g-4">
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Instant Compression</h3>
            <p class="feature-description">Paste formatted JSON and get minified output instantly. We strip out all whitespace, line breaks, and indentation while keeping everything valid.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Size Comparison</h3>
            <p class="feature-description">See exactly how much space you save. We show you the original size, minified size, and percentage saved right there in real-time.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Valid Output</h3>
            <p class="feature-description">Minified JSON is still valid JSON. It works with any parser, API, or app. We only remove whitespace – your data stays intact.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">File Upload Support</h3>
            <p class="feature-description">Got a big file? Just upload it. Works great for minifying those massive config files or API dumps without copy-pasting.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Copy & Download</h3>
            <p class="feature-description">One click to copy, or download it as a file. Great for production deployments or API requests where size matters.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Syntax Highlighting</h3>
            <p class="feature-description">Even minified JSON gets syntax highlighting. Makes it easier to verify the output looks right.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- How to Use Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">How It Works</h2>
      <div class="steps-container">
        <div class="step-item">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3 class="step-title">Paste or Upload JSON</h3>
            <p class="step-description">Drop your formatted JSON into the left editor, or upload a file if you prefer. Not sure what to expect? Hit "Sample" to see how it works. We accept any valid JSON structure.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3 class="step-title">Automatic Minification</h3>
            <p class="step-description">As soon as you paste, the minifier processes your JSON and displays the compressed version on the right. Watch the stats bar to see how much space you saved.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3 class="step-title">Copy or Download</h3>
            <p class="step-description">Click "Copy" to copy the minified JSON to your clipboard, or "Download" to save it as a file. The minified JSON is ready to use in production.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Use Cases Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">When You'd Actually Use This</h2>
      <div class="row g-4">
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Production Deployment</h3>
            <p class="use-case-text">Minify JSON before deploying to production. Smaller files mean faster API responses, reduced bandwidth costs, and better performance for your users.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Mobile Optimization</h3>
            <p class="use-case-text">Every byte counts on mobile networks. Minified JSON reduces data usage, improving load times and user experience on slower connections.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">API Requests</h3>
            <p class="use-case-text">Send minified JSON in API requests to reduce payload size. Works great with <a href="https://swagger.io/" target="_blank" rel="noopener noreferrer">REST APIs</a> or <a href="https://graphql.org/" target="_blank" rel="noopener noreferrer">GraphQL</a> queries.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Config Files</h3>
            <p class="use-case-text">Minify JSON configuration files for production. Keeps settings valid while reducing file size, especially useful for large configs.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">Common Questions</h2>
      <div class="faq-container">
        <div class="faq-item">
          <h3 class="faq-question">Is my JSON data stored?</h3>
          <p class="faq-answer">Nope. Everything happens right in your browser using JavaScript's native <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" target="_blank" rel="noopener noreferrer">JSON.parse()</a> and <code>JSON.stringify()</code>. Your data never leaves your computer.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">How much space can I save?</h3>
          <p class="faq-answer">It depends on how much whitespace your JSON has. Well-formatted JSON with lots of indentation can save 30-50% of file size. Our stats bar shows you exactly how much you saved.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Does minification break JSON?</h3>
          <p class="faq-answer">Nope. Minified JSON is still valid JSON. We only remove whitespace – all your data, structure, and syntax stay intact. It works with any JSON parser.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Can I format minified JSON back?</h3>
          <p class="faq-answer">Yep. Use our <a routerLink="/json-formatter">JSON Formatter</a> tool to format minified JSON back to readable format. Minification is totally reversible.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">What's the difference from compression?</h3>
          <p class="faq-answer">Minification removes whitespace only. Compression (like gzip) uses algorithms to reduce file size further. Minified JSON can still be compressed for even smaller files.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Can I minify invalid JSON?</h3>
          <p class="faq-answer">Nah, you'll need valid JSON first. We validate it before minifying. If something's broken, we'll show you an error. Fix the syntax errors, then minify again.</p>
        </div>
      </div>
    </section>

    <!-- Related Tools Section -->
    <section class="content-block">
      <h2 class="content-heading">Other JSON Tools You Might Need</h2>
      <p class="content-text mb-4">Minification is just one JSON task. Here are other tools that work well together:</p>
      <div class="related-tools-grid">
        <a routerLink="/" class="tool-link"><span>JSON Parser</span>
        </a>
        <a routerLink="/json-formatter" class="tool-link"><span>JSON Formatter</span>
        </a>
        <a routerLink="/json-validator" class="tool-link"><span>JSON Validator</span>
        </a>
        <a routerLink="/json-to-csv" class="tool-link"><span>JSON to CSV</span>
        </a>
        <a routerLink="/json-to-yaml" class="tool-link"><span>JSON to YAML</span>
        </a>
        <a routerLink="/json-to-xml" class="tool-link"><span>JSON to XML</span>
        </a>
        <a routerLink="/json-to-toon" class="tool-link"><span>JSON to TOON</span>
        </a>
        <a routerLink="/json-schema-generator" class="tool-link"><span>JSON Schema Generator</span>
        </a>
      </div>
      <p class="content-text mt-4">
        Need to learn more about JSON? Check out the official <a href="https://www.json.org/" target="_blank" rel="noopener noreferrer">JSON.org</a> website or the comprehensive guide on <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON" target="_blank" rel="noopener noreferrer">MDN</a>.
      </p>
    </section>

  </div>
</div>

