<div class="json-formatter-container">
  <!-- Page Header -->
  <div class="page-header">
    <h1 class="page-title">JSON Schema Generator</h1>
    <p class="page-description">Generate JSON Schema from JSON data automatically</p>
  </div>
  
  <input type="file" #fileInput accept=".json,.txt" style="display: none;" (change)="onFileSelected($event)" />
  <div class="editors-wrapper">
    <!-- Left Panel (Input) -->
    <div class="editor-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>JSON Input</h2>
        </div>
        <div class="panel-actions">
          <button class="btn" (click)="loadSample()" aria-label="Sample">
            <i class="fas fa-flask"></i>
            <span class="d-none d-md-inline">Sample</span>
          </button>
          <button class="btn" (click)="triggerFileUpload()" aria-label="Upload">
            <i class="fas fa-upload"></i>
            <span class="d-none d-md-inline">Upload</span>
          </button>
          <button class="btn" (click)="clearInput()">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #inputEditor class="editor"></div>
      </div>
    </div>

    <!-- Right Panel (Output) -->
    <div class="editor-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>Generated Schema</h2>
        </div>
        <div class="panel-actions">
          <button class="btn" (click)="downloadSchema()" aria-label="Download">
            <i class="fas fa-download"></i>
            <span class="d-none d-md-inline">Download</span>
          </button>
          <button class="btn" (click)="copyToClipboard()" aria-label="Copy">
            <i class="fas fa-copy"></i>
            <span class="d-none d-md-inline">Copy</span>
          </button>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #outputEditor class="editor"></div>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap Error Modal -->
<div class="modal fade" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true" [class.show]="errorModalVisible" [style.display]="errorModalVisible ? 'block' : 'none'">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="errorModalLabel">Error</h5>
        <button type="button" class="btn-close" aria-label="Close" (click)="closeErrorModal()"></button>
      </div>
      <div class="modal-body">
        <p>{{ errorMessage }}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeErrorModal()">Close</button>
      </div>
    </div>
  </div>
</div>
<div class="modal-backdrop fade" [class.show]="errorModalVisible" *ngIf="errorModalVisible"></div>

<!-- Copy Success Toast -->
<div class="toast-container position-fixed end-0 p-3" style="top: 15%;">
  <div class="toast" [class.show]="copySuccessVisible" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">
      <i class="fas fa-check-circle text-success me-2"></i>
      <strong class="me-auto">Success</strong>
    </div>
    <div class="toast-body">
      {{ copySuccessMessage }}
    </div>
  </div>
  <div class="toast" [class.show]="copyErrorVisible" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">
      <i class="fas fa-exclamation-circle text-warning me-2"></i>
      <strong class="me-auto">Warning</strong>
    </div>
    <div class="toast-body">
      {{ copyErrorMessage }}
    </div>
  </div>
</div>

<!-- SEO Content Section -->
<div class="content-section">
  <div class="container-fluid px-4 py-5">
    
    <!-- Introduction Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">What is JSON Schema Generator?</h2>
      <p class="content-text">
        Ever needed to document your API's data structure but didn't want to write a <a href="https://json-schema.org/" target="_blank" rel="noopener noreferrer">JSON Schema</a> by hand? That's where this tool comes in. Just paste your <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer">JSON (JavaScript Object Notation)</a> data, and we'll automatically generate a complete schema that describes its structure, types, and validation rules.
      </p>
      <p class="content-text">
        Perfect for API documentation, data validation, or just understanding what your JSON actually contains. As <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON" target="_blank" rel="noopener noreferrer">MDN Web Docs</a> explains, JSON Schema helps validate data structures, and our generator follows the <a href="https://json-schema.org/specification.html" target="_blank" rel="noopener noreferrer">official JSON Schema specification</a>. It handles nested objects, arrays, and all the tricky parts automatically.
      </p>
      <p class="content-text">
        Best part? It all happens in your browser – your data never leaves your computer. No uploads, no waiting, just instant schema generation.
      </p>
    </section>

    <!-- Key Features Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">What Makes This Tool Different</h2>
      <div class="row g-4">
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Automatic Schema Generation</h3>
            <p class="feature-description">Just paste your JSON and we'll figure out the schema for you. It detects all the types, handles nested objects and arrays, and even figures out which fields are required.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Type Detection</h3>
            <p class="feature-description">We automatically figure out whether something's a string, number, boolean, object, or array. It also handles null values and knows when fields might be optional.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Nested Structure Support</h3>
            <p class="feature-description">Got deeply nested JSON? No problem. We handle objects within objects, arrays of objects, and all those complex structures you'd rather not think about.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">File Upload Support</h3>
            <p class="feature-description">Don't want to copy-paste? Just upload your .json or .txt file. Works great for those massive API responses or config files.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Copy & Download</h3>
            <p class="feature-description">One click to copy, or download it as a file. Drop it straight into your API docs or validation setup – it's ready to go.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Syntax Highlighting</h3>
            <p class="feature-description">Both your input JSON and the generated schema get nice syntax highlighting. Makes it way easier to spot issues and verify everything looks right.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- How to Use Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">How It Works</h2>
      <div class="steps-container">
        <div class="step-item">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3 class="step-title">Paste or Upload JSON</h3>
            <p class="step-description">Drop your JSON into the left editor, or upload a file if you prefer. Not sure what to expect? Hit "Sample" to see how it works. Works with objects or arrays – whatever you've got.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3 class="step-title">Automatic Schema Generation</h3>
            <p class="step-description">We analyze your JSON and spit out a complete schema in the right panel. It includes all the types, properties, and structure info you need.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3 class="step-title">Copy or Download</h3>
            <p class="step-description">Take a quick look to make sure it's what you need, then copy it to your clipboard or download it. Drop it into your API docs or validation setup and you're done.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Use Cases Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">When You'd Actually Use This</h2>
      <div class="row g-4">
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title"><i class="fas fa-book me-2"></i>API Documentation</h3>
            <p class="use-case-text">Got an API response example? Generate a schema from it and use it in your <a href="https://swagger.io/" target="_blank" rel="noopener noreferrer">Swagger/OpenAPI</a> docs. Way faster than writing schemas by hand.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title"><i class="fas fa-shield-alt me-2"></i>Data Validation</h3>
            <p class="use-case-text">Need to validate incoming JSON? Generate a schema and use it with validation libraries to make sure your data matches what you expect.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title"><i class="fas fa-code me-2"></i>Type Definitions</h3>
            <p class="use-case-text">Generate schemas to understand data structures. Perfect for documenting complex JSON formats or understanding API contracts.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title"><i class="fas fa-file-contract me-2"></i>Contract Testing</h3>
            <p class="use-case-text">Create schemas for contract testing. Verify that API responses match expected structures using schema validation.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">Common Questions</h2>
      <div class="faq-container">
        <div class="faq-item">
          <h3 class="faq-question">Is my JSON data stored?</h3>
          <p class="faq-answer">Nope. Everything happens right in your browser. Your JSON never leaves your computer – we don't even see it.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">What JSON Schema version is used?</h3>
          <p class="faq-answer">We generate schemas that work with JSON Schema Draft 7 and newer. Everything follows the <a href="https://json-schema.org/specification.html" target="_blank" rel="noopener noreferrer">official spec</a>, so it'll work with standard validation tools.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Does it handle arrays?</h3>
          <p class="faq-answer">Absolutely. Arrays are no problem. If you've got an array of objects, we'll analyze the object structure and create the right item schema for you.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">What about optional vs required fields?</h3>
          <p class="faq-answer">We look at your JSON sample and figure out which fields show up every time. Those get marked as required, while fields that sometimes appear are marked optional.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Can I edit the generated schema?</h3>
          <p class="faq-answer">Sure thing. The output panel is fully editable, so you can tweak types, add constraints, or adjust anything to fit your needs.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Does it work with invalid JSON?</h3>
          <p class="faq-answer">Nah, you'll need valid JSON first. If something's broken, we'll show you an error. Try our <a routerLink="/json-validator">JSON Validator</a> or <a routerLink="/json-fixer">JSON Fixer</a> to sort it out first.</p>
        </div>
      </div>
    </section>

    <!-- Related Tools Section -->
    <section class="content-block">
      <h2 class="content-heading">Other JSON Tools You Might Need</h2>
      <p class="content-text mb-4">Schema generation is just one thing you might need. Here are some other tools that work great together:</p>
      <div class="related-tools-grid">
        <a routerLink="/" class="tool-link">
          <i class="fas fa-table"></i>
          <span>JSON Parser</span>
        </a>
        <a routerLink="/json-formatter" class="tool-link">
          <i class="fas fa-indent"></i>
          <span>JSON Formatter</span>
        </a>
        <a routerLink="/json-validator" class="tool-link">
          <i class="fas fa-check-circle"></i>
          <span>JSON Validator</span>
        </a>
        <a routerLink="/json-to-typescript" class="tool-link">
          <i class="fas fa-code"></i>
          <span>JSON to TypeScript</span>
        </a>
        <a routerLink="/json-fixer" class="tool-link">
          <i class="fas fa-wrench"></i>
          <span>JSON Fixer</span>
        </a>
        <a routerLink="/json-to-csv" class="tool-link">
          <i class="fas fa-file-csv"></i>
          <span>JSON to CSV</span>
        </a>
        <a routerLink="/json-to-yaml" class="tool-link">
          <i class="fas fa-file-code"></i>
          <span>JSON to YAML</span>
        </a>
        <a routerLink="/json-diff" class="tool-link">
          <i class="fas fa-code-branch"></i>
          <span>JSON Diff</span>
        </a>
      </div>
      <p class="content-text mt-4">
        Want to learn more about JSON? The <a href="https://www.json.org/" target="_blank" rel="noopener noreferrer">JSON.org</a> site is a great place to start, or check out the guide on <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON" target="_blank" rel="noopener noreferrer">MDN</a>.
      </p>
    </section>

  </div>
</div>

