<div class="json-to-lua-container">
  <div class="page-header">
    <h1 class="page-title">JSON to Lua Converter</h1>
    <p class="page-description">Convert JSON to Lua tables for Lua development</p>
  </div>
  
  <div class="config-panel" style="padding: 10px 15px; background: white; margin: 0 6px 4px 6px; border-radius: 5px; border: 2px solid #dee2e6;">
    <div class="row g-3 align-items-center">
      <div class="col-auto">
        <label class="form-label small mb-0" for="tableName">Table Name:</label>
      </div>
      <div class="col-auto">
        <input type="text" id="tableName" class="form-control form-control-sm" [(ngModel)]="tableName" (input)="onTableNameChange()" style="width: 180px;" />
      </div>
    </div>
  </div>
  
  <input type="file" #fileInput accept=".json,.txt" style="display: none;" (change)="onFileSelected($event)" />
  <div class="editors-wrapper">
    <div class="editor-container input-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>JSON Input</h2>
        </div>
        <div class="panel-actions">
          <button class="btn" (click)="loadSampleJson()" aria-label="Sample"><span class="d-none d-md-inline">Sample</span></button>
          <button class="btn" (click)="triggerFileUpload()" aria-label="Upload"><span class="d-none d-md-inline">Upload</span></button>
          <button class="btn" (click)="clearInput()"></button>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #inputEditor class="editor"></div>
      </div>
    </div>

    <div class="editor-container output-container">
      <div class="panel-header">
        <div class="panel-header-left">
          <h2>Lua Output</h2>
        </div>
        <div class="panel-actions">
          <button class="btn" (click)="downloadLua()" aria-label="Download"><span class="d-none d-md-inline">Download</span></button>
          <button class="btn" (click)="copyToClipboard()" aria-label="Copy"><span class="d-none d-md-inline">Copy</span></button>
        </div>
      </div>
      <div class="editor-wrapper">
        <div #outputEditor class="editor"></div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" tabindex="-1" [class.show]="errorModalVisible" [style.display]="errorModalVisible ? 'block' : 'none'">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Error</h5>
        <button type="button" class="btn-close" (click)="closeErrorModal()"></button>
      </div>
      <div class="modal-body">
        <p>{{ errorMessage }}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeErrorModal()">Close</button>
      </div>
    </div>
  </div>
</div>
<div class="modal-backdrop fade" [class.show]="errorModalVisible" *ngIf="errorModalVisible"></div>

<div class="toast-container position-fixed end-0 p-3" style="top: 15%;">
  <div class="toast" [class.show]="copySuccessVisible" role="alert">
    <div class="toast-header"><strong class="me-auto">Success</strong></div>
    <div class="toast-body">{{ copySuccessMessage }}</div>
  </div>
  <div class="toast" [class.show]="copyErrorVisible" role="alert">
    <div class="toast-header"><strong class="me-auto">Warning</strong></div>
    <div class="toast-body">{{ copyErrorMessage }}</div>
  </div>
</div>

<div class="content-section">
  <div class="container-fluid px-4 py-5">
    
    <!-- Introduction Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">What is JSON to Lua Converter?</h2>
      <p class="content-text">
        Need to generate <a href="https://www.lua.org/" target="_blank" rel="noopener noreferrer">Lua</a> tables from your <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer">JSON (JavaScript Object Notation)</a> data? This tool does that instantly. Perfect for Lua developers working with game development, embedded systems, or scripting who need to deserialize JSON into Lua tables. Generate Lua tables, nested structures, and type definitions automatically.
      </p>
      <p class="content-text">
        According to <a href="https://www.lua.org/manual/" target="_blank" rel="noopener noreferrer">Lua documentation</a>, tables are the primary data structure in Lua and work perfectly for JSON data. Our converter analyzes your JSON structure and generates proper Lua tables. First, validate your JSON using our <a routerLink="/json-validator">JSON Validator</a>, then convert it to Lua. You can also format your JSON with our <a routerLink="/json-formatter">JSON Formatter</a> first if needed.
      </p>
      <p class="content-text">
        Everything happens in your browser – your JSON never leaves your computer. Convert, download, and use your Lua code right away.
      </p>
    </section>

    <!-- Key Features Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">What Makes This Tool Different</h2>
      <div class="row g-4">
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Automatic Table Generation</h3>
            <p class="feature-description">We analyze your JSON structure and automatically generate Lua tables. JSON objects become Lua tables, arrays become Lua tables with numeric indices, everything gets proper Lua syntax.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Nested Structure Support</h3>
            <p class="feature-description">Handles deeply nested JSON structures perfectly. Nested objects become nested tables, arrays become tables with sequential indices.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Proper Lua Syntax</h3>
            <p class="feature-description">Generates valid Lua code with proper table syntax. Uses Lua's native table structure for maximum compatibility.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">File Upload Support</h3>
            <p class="feature-description">Got a big file? Just upload it. Works great for converting those massive JSON configs or data files without copy-pasting.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Download Lua</h3>
            <p class="feature-description">One click to download your Lua file. Drop it into your Lua project and start using it. Perfect for game development, embedded systems, or scripting.</p>
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="feature-card">
            <h3 class="feature-title">Clean Code Output</h3>
            <p class="feature-description">The generated Lua code is clean and well-formatted. Tables are properly structured and follow Lua conventions.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- How to Use Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">How It Works</h2>
      <div class="steps-container">
        <div class="step-item">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3 class="step-title">Paste or Upload JSON</h3>
            <p class="step-description">Paste your JSON into the left editor, or click "Upload" to load a file. The JSON should be valid – use our <a routerLink="/json-validator">JSON Validator</a> first if you're not sure. You can also click "Sample" to see an example.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3 class="step-title">Configure Options</h3>
            <p class="step-description">Set your table name. These settings customize the generated Lua code to match your project's conventions.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3 class="step-title">Download or Copy</h3>
            <p class="step-description">Click "Download" to save the Lua file, or "Copy" to copy it to your clipboard. The Lua code is ready to use in your project. Drop it into your Lua project and start using it.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Use Cases Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">When You'd Actually Use This</h2>
      <div class="row g-4">
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Game Development</h3>
            <p class="use-case-text">Generate Lua tables from JSON configs for game engines. Create data structures for JSON-based game configurations, level data, or asset definitions. Perfect for Lua-based game engines.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Embedded Systems</h3>
            <p class="use-case-text">Create Lua tables from JSON data for embedded systems. Generate data models for JSON-based configurations or device settings. Perfect for Lua scripting in embedded applications.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Scripting</h3>
            <p class="use-case-text">Generate Lua code from JSON data structures. Perfect for creating data models, configuration tables, or data definitions from JSON schemas.</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="use-case-card">
            <h3 class="use-case-title">Configuration Files</h3>
            <p class="use-case-text">Convert JSON configuration files to Lua tables. Makes configuration management easier in Lua applications and scripts.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="content-block mb-5">
      <h2 class="content-heading">Common Questions</h2>
      <div class="faq-container">
        <div class="faq-item">
          <h3 class="faq-question">Is my JSON data stored?</h3>
          <p class="faq-answer">Nope. Everything happens right in your browser. Your JSON never leaves your computer – we don't even see it.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">How are JSON objects handled?</h3>
          <p class="faq-answer">JSON objects become Lua tables. Properties become table keys, and nested objects become nested tables. Arrays become Lua tables with numeric indices starting from 1.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Can I use the generated Lua code?</h3>
          <p class="faq-answer">Yes. The generated Lua code is valid and ready to use. Drop it into your Lua project and start using it. You may want to review and refine the tables for your specific use case.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">What Lua version is supported?</h3>
          <p class="faq-answer">The generated code works with Lua 5.1 and later. It uses standard Lua features and follows Lua conventions for maximum compatibility.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">Does it work with large JSON files?</h3>
          <p class="faq-answer">Yep. Since everything happens in your browser, it depends on your device. Small to medium JSON structures convert instantly. Really huge structures might take a few seconds.</p>
        </div>
        <div class="faq-item">
          <h3 class="faq-question">What about JSON parsing libraries?</h3>
          <p class="faq-answer">The generated Lua code uses native Lua tables. You can use libraries like dkjson or cjson to parse JSON strings into these table structures.</p>
        </div>
      </div>
    </section>

    <!-- Related Tools Section -->
    <section class="content-block">
      <h2 class="content-heading">Other JSON Tools You Might Need</h2>
      <p class="content-text mb-4">Conversion is just one JSON task. Here are other tools that work well together:</p>
      <div class="related-tools-grid">
        <a routerLink="/" class="tool-link"><span>JSON Parser</span></a>
        <a routerLink="/json-formatter" class="tool-link"><span>JSON Formatter</span></a>
        <a routerLink="/json-validator" class="tool-link"><span>JSON Validator</span></a>
        <a routerLink="/json-minifier" class="tool-link"><span>JSON Minifier</span></a>
        <a routerLink="/json-to-csv" class="tool-link"><span>JSON to CSV</span></a>
        <a routerLink="/json-to-yaml" class="tool-link"><span>JSON to YAML</span></a>
        <a routerLink="/json-to-xml" class="tool-link"><span>JSON to XML</span></a>
        <a routerLink="/json-to-typescript" class="tool-link"><span>JSON to TypeScript</span></a>
        <a routerLink="/json-to-java" class="tool-link"><span>JSON to Java</span></a>
        <a routerLink="/json-to-python" class="tool-link"><span>JSON to Python</span></a>
        <a routerLink="/json-to-php" class="tool-link"><span>JSON to PHP</span></a>
        <a routerLink="/json-to-go" class="tool-link"><span>JSON to Go</span></a>
      </div>
      <p class="content-text mt-4">
        Need to learn more about JSON? Check out the official <a href="https://www.json.org/" target="_blank" rel="noopener noreferrer">JSON.org</a> website or the comprehensive guide on <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON" target="_blank" rel="noopener noreferrer">MDN</a>. For Lua, check out the official <a href="https://www.lua.org/manual/" target="_blank" rel="noopener noreferrer">Lua manual</a>.
      </p>
    </section>

  </div>
</div>

